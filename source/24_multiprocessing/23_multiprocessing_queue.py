#!/usr/bin/env python3
# encoding: utf-8
#
# Copyright (c) 2009 Doug Hellmann All rights reserved.
#
""" """

# end_pymotw_header
import multiprocessing


class MyFancyClass:

    def __init__(self, name):
        self.name = name

    def do_something(self):
        proc_name = multiprocessing.current_process().name
        print("Doing something fancy in {} for {}!".format(proc_name, self.name))


def worker(q):
    print(multiprocessing.current_process().name)
    obj = q.get()
    obj.do_something()


if __name__ == "__main__":
    queue = multiprocessing.Queue()

    p = multiprocessing.Process(target=worker, args=(queue,))
    p.start()

    queue.put(MyFancyClass("Fancy Dan"))

    # Wait for the worker to finish
    queue.close()
    queue.join_thread()
    p.join()

"""
Process-1
Doing something fancy in Process-1 for Fancy Dan!
"""
